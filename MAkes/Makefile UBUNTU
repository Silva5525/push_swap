CC = cc
CFLAGS =  -Wall -Wextra -Werror -g
BUFFER = -D BUFFER_SIZE=20
NAME = libgetnextline.a

SRCS = get_next_line.c get_next_line_utils.c
OBJS = $(SRCS:.c=.o)

all: $(NAME)

$(NAME): $(OBJS)
	ar rcs $(NAME) $(OBJS) 

%.o: %.c 
	$(CC) $(CFLAGS) $(BUFFER) $(INCLUDES) -c $< -o $@ 

test: $(NAME)
	$(CC) $(CFLAGS) $(BUFFER) $(NAME) main.c -o test -L. -lgetnextline -I.

clean: 
	rm -rf $(OBJS) 

fclean: clean 
	rm -rf $(NAME) test

re: fclean all 

.PHONY: all clean fclean re
